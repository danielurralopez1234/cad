<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button text="" icon="chevron-back"></ion-back-button>
    </ion-buttons>
    <ion-title>Mi Perfil</ion-title>
    <ion-label slot="end" class="ion-padding-end">{{usuario.rut}}</ion-label>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="miperfilForm" (ngSubmit)="updatePerfil()">
    <ion-list>
      <ion-item>
        <ion-label color="primary" position="stacked">Foto</ion-label>
        <ion-input [(ngModel)]="usuario.foto" (change)="uploadFoto($event)" name="foto" formControlName="foto" autocomplete="off" type="file" accept="image/*"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Nombre</ion-label>
        <ion-input [(ngModel)]="usuario.nombre" name="nombre" formControlName="nombre" autocomplete="off" type="text"></ion-input>
        <ion-icon name="create-outline" slot="end"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Apellido</ion-label>
        <ion-input [(ngModel)]="usuario.apellido" name="apellido" formControlName="apellido" autocomplete="off" type="text"></ion-input>
        <ion-icon name="create-outline" slot="end"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Telefono</ion-label>
        <ion-input [(ngModel)]="usuario.telefono" name="telefono" formControlName="telefono" autocomplete="off" type="tel"></ion-input>
        <ion-icon name="create-outline" slot="end"></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Region</ion-label>
        <ion-select formControlName="region" placeholder="Selecciona.." [(ngModel)]="usuario.region" [disabled]="isRegion">
          <ion-select-option *ngFor="let region of Region" [value]="region.id">{{region.nombre}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Comuna</ion-label>
        <ion-select formControlName="comuna"  placeholder="Selecciona.." [(ngModel)]="usuario.comuna" (ionChange)="selectSector()">
          <ion-select-option *ngFor="let comuna of Comuna" [value]="comuna.id">{{comuna.nombre}}</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label color="primary" position="floating">Direccion</ion-label>
        <ion-input [(ngModel)]="usuario.direccion" name="direccion" formControlName="direccion" autocomplete="off" type="text"></ion-input>
        <ion-icon name="create-outline" slot="end"></ion-icon>
      </ion-item>
      <!--
      <ion-item>
        <ion-label class="ion-text-wrap">
          <ion-text color="primary">
            <h3>H3 Primary Title</h3>
          </ion-text>
          <p>Paragraph line 1</p>
          <ion-text color="secondary">
            <p>Paragraph line 2 secondary</p>
          </ion-text>
        </ion-label>
      </ion-item> -->
    </ion-list>
    <ion-button expand="block" share="round" color="tertiary" type="submit">Guardar</ion-button>
  </form>
</ion-content>
